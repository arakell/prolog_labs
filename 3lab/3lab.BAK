database
	language(string)
database - db
	knows(string,string)
predicates
	nondeterm menu()
	nondeterm add_lang(string)
	nondeterm repeat
	nondeterm stop_menu(integer)
	nondeterm call(integer)	
	nondeterm show_all()
clauses
	language("русский").
	language("английский").
	language("испанский").
	language("итальянский").
	
	add_lang(Name):-language(X), write("Этот человек знает ", X, " язык? "),
			  readln(Answer), Answer="да",
			  retractall(knows(Name,X)),
			  assert(knows(Name,X), db), nl.
	
	repeat.
	repeat:-repeat.
	stop_menu(0).
	stop_menu(_):-fail.

	show_all():- knows(Name, Language), write(Name," ",Language), nl, nl.

	call(1):- consult(".\baza.dba", db), write("БД загружена"), nl, nl.
	call(2):- write("Введите имя: "), readln(Name), nl,
		  add_lang(Name).
	call(3):- write("Введите имя человека информацию о котором хотите удалить: "), readln(Name),
		  retractall(knows(Name,_)), nl,
		  write("Записи удалены"), nl, nl.
	call(4):- save(".\baza.dba", db), write("БД сохранена!"), nl, nl.
	call(5):- show_all().

	menu():-repeat,
		write("Сделайте выбор"),
		nl, write("1. Загрузить БД"), 
		nl, write("2. Заполнить БД"),
		nl, write("3. Удалить строку из БД"),
		nl, write("4. Сохранить БД"), 
		nl, write("5. Показать информацию из БД"),
		nl, write("Чтобы выйти нажмите ctrl+break"),
		nl, write("Ваш выбор: "),
		readint(X), nl,
		X<6,
		call(X), 
		%nl,
		stop_menu(X).
goal
	menu. 

